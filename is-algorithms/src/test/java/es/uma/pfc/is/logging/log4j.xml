<?xml version="1.0" encoding="UTF-8"?>
 
<!--<log4j:configuration xmlns:log4j="http://jakarta.apache.org/log4j/">
 
    <appender name="Performance" class="org.apache.log4j.ConsoleAppender">
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%-7p %d [%t] %c %x - %m%n"/>
        </layout>
        <evaluator class="ch.qos.logback.classic.boolex.OnMarkerEvaluator">
            <marker>PERFORMANCE</marker>
        </evaluator>
    </appender>
  
    <appender name="Statistics" class="org.apache.log4j.FileAppender">
        <param name="File" value="stats.csv" />
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%-7p %d [%t] %c %x - %m%n"/>
        </layout>
        <evaluator class="ch.qos.logback.classic.boolex.OnMarkerEvaluator">
            <marker>STATS</marker>
        </evaluator>
    </appender>
  
    <appender name="History" class="org.apache.log4j.FileAppender">
        <param name="File" value="history.txt" />
        <layout class="org.apache.log4j.PatternLayout">
            <param name="ConversionPattern" value="%-7p %d [%t] %c %x - %m%n"/>
        </layout>
        <evaluator class="ch.qos.logback.classic.boolex.OnMarkerEvaluator">
            <marker>HISTORY</marker>
        </evaluator>
    </appender>
 
    <root>
        <appender-ref ref="Performance" />
        <appender-ref ref="Statistics" />
        <appender-ref ref="History" />
    </root>
     
</log4j:configuration>-->

<?xml version="1.0" encoding="UTF-8"?>
<Configuration>
  <Appenders>
    <File name="Statistics" fileName="stats.csv" append="false">
      <PatternLayout pattern="%t %-5p %c{2} - %m%n"/>
      <evaluator class="ch.qos.logback.classic.boolex.OnMarkerEvaluator">
            <marker>STATS</marker>
        </evaluator>
    </File>
    <File name="History" fileName="history.txt" append="false">
      <PatternLayout pattern="%t %-5p %c{2} - %m%n"/>
      <evaluator class="ch.qos.logback.classic.boolex.OnMarkerEvaluator">
            <marker>HISTORY</marker>
        </evaluator>
    </File>
    <Console name="Performance" target="SYSTEM_OUT">
      <PatternLayout pattern="%d %-5p [%t] %C{2} (%F:%L) - %m%n"/>
       <evaluator class="ch.qos.logback.classic.boolex.OnMarkerEvaluator">
            <marker>PERFORMANCE</marker>
        </evaluator>
    </Console>
  </Appenders>
<!--  <Loggers>
    <Logger name="org.apache.log4j.xml" level="debug">
      <AppenderRef ref="A1"/>
    </Logger>-->
    <Root level="debug">
      <AppenderRef ref="Statistics"/>
      <AppenderRef ref="Performance"/>
      <AppenderRef ref="History"/>
    </Root>
  </Loggers>
</Configuration>